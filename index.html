<!doctype html>
<html lang="pl" data-theme-mode="auto" data-resolved-theme="light">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0f766e">
  <title>Pretty-Mails</title>
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="icon" href="./assets/icon-192.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="./assets/icon-192.svg">
  <script src="https://cdn.tiny.cloud/1/rvwao9ib8mj0j8bfxbp4dml22na1rnlbgwu4wvfkitbd7dr3/tinymce/8/tinymce.min.js" referrerpolicy="origin" crossorigin="anonymous"></script>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    // Ustaw swoje warto≈õci:
    // window.PRETTY_MAILS_GOOGLE_CLIENT_ID = "xxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com";
    // window.PRETTY_MAILS_ALLOWED_EMAIL = "twoj-adres@gmail.com";
    window.PRETTY_MAILS_GOOGLE_CLIENT_ID = window.PRETTY_MAILS_GOOGLE_CLIENT_ID || "";
    window.PRETTY_MAILS_ALLOWED_EMAIL = window.PRETTY_MAILS_ALLOWED_EMAIL || "";
  </script>
  <link rel="stylesheet" href="./app.css">
</head>
<body>
  <header class="app-header">
    <div class="topbar-section topbar-brand">
      <h1>Pretty-Mails</h1>
    </div>

    <div class="topbar-section topbar-send">
      <button id="mobilePreviewToggleBtn" class="button preview-topbar-btn" type="button" aria-pressed="false">üëÅÔ∏è</button>
      <button id="exportBtn" class="button button-primary" type="button" aria-label="Zapisz plik .eml">üíæ</button>
      <button id="gmailSendBtn" class="button" type="button" aria-label="Wy≈õlij przez Gmail">üì®</button>
      <button id="shareBtn" class="button" type="button" aria-label="Udostƒôpnij plik .eml">üì§</button>
    </div>

    <div class="topbar-section topbar-theme">
      <div class="theme-picker">
        <label id="themeModeLabel" for="themeMode">Motyw</label>
        <select id="themeMode">
          <option value="auto">Auto</option>
          <option value="light">Jasny</option>
          <option value="dark">Ciemny</option>
        </select>
      </div>
    </div>

    <div class="topbar-section topbar-locale">
      <div class="language-menu" id="languageMenu">
        <button id="languageMenuBtn" class="button language-btn" type="button" aria-haspopup="listbox" aria-expanded="false" aria-label="Jƒôzyk interfejsu">
          <span id="languageFlag" class="language-flag" aria-hidden="true">üáµüá±</span>
          <span class="language-caret" aria-hidden="true">‚ñæ</span>
        </button>
        <ul id="languageMenuList" class="language-menu-list" role="listbox" hidden>
          <li>
            <button type="button" class="language-option" data-lang="pl" role="option">
              <span class="language-flag" aria-hidden="true">üáµüá±</span>
              <span id="languageOptionPl">Polski</span>
            </button>
          </li>
          <li>
            <button type="button" class="language-option" data-lang="en" role="option">
              <span class="language-flag" aria-hidden="true">üá¨üáß</span>
              <span id="languageOptionEn">English</span>
            </button>
          </li>
          <li>
            <button type="button" class="language-option" data-lang="uk" role="option">
              <span class="language-flag" aria-hidden="true">üá∫üá¶</span>
              <span id="languageOptionUk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</span>
            </button>
          </li>
        </ul>
      </div>

      <label class="visually-hidden" id="languageModeLabel" for="languageMode">Jƒôzyk</label>
      <select id="languageMode" class="visually-hidden" aria-hidden="true" tabindex="-1">
        <option value="pl">Polski</option>
        <option value="en">English</option>
        <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
      </select>

      <button id="infoBtn" class="button" type="button" aria-haspopup="dialog" aria-controls="infoModal">‚ÑπÔ∏è</button>
    </div>
  </header>

  <main class="layout">
    <section class="workspace">
      <div class="editor-column">
        <section class="card editor-panel">
          <h2 id="editorTitle">Edytor</h2>

          <section class="editor-section">
            <h3 id="sectionEnvelopeTitle">Informacje wysy≈Çkowe</h3>

            <div class="field-block">
              <label class="field-main-label" id="fieldToLabel" for="fieldTo">Do</label>
              <input id="fieldTo" type="text" placeholder="adres@example.com adres2@example.com" autocomplete="email">
            </div>

            <div class="field-block" data-optional-key="cc">
              <label class="field-main-label" id="fieldCcLabel" for="fieldCc">DW</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleCc" type="checkbox"><span id="toggleCcLabel">Poka≈º</span></label>
                <input id="fieldCc" type="text" placeholder="adres@example.com, drugi@example.com" autocomplete="email">
              </div>
            </div>

            <div class="field-block" data-optional-key="bcc">
              <label class="field-main-label" id="fieldBccLabel" for="fieldBcc">UDW</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleBcc" type="checkbox"><span id="toggleBccLabel">Poka≈º</span></label>
                <input id="fieldBcc" type="text" placeholder="adres@example.com" autocomplete="email">
              </div>
            </div>

            <div class="field-block" data-optional-key="subject">
              <label class="field-main-label" id="fieldSubjectLabel" for="fieldSubject">Temat</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleSubject" type="checkbox" checked><span id="toggleSubjectLabel">Poka≈º</span></label>
                <input id="fieldSubject" type="text" placeholder="Temat wiadomo≈õci" autocomplete="off">
              </div>
            </div>
          </section>

          <section class="editor-section">
            <h3 id="sectionQuoteTitle">Cytat</h3>
            <div class="field-block" data-optional-key="quote">
              <label class="field-main-label" id="fieldQuoteLabel" for="fieldQuote">Cytat odpowiedzi</label>
              <div class="field-toggle-row field-toggle-row-multiline">
                <label class="field-toggle-inline"><input id="toggleQuote" type="checkbox"><span id="toggleQuoteLabel">Poka≈º</span></label>
                <textarea id="fieldQuote" rows="5" placeholder="Wklej cytowany fragment..."></textarea>
              </div>
            </div>
          </section>

          <section class="editor-section">
            <h3 id="sectionGreetingTitle">Przywitanie</h3>
            <div class="field-block" data-optional-key="greeting">
              <label class="field-main-label" id="fieldGreetingLabel" for="fieldGreetingPreset">Przywitanie</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleGreeting" type="checkbox" checked><span id="toggleGreetingLabel">Poka≈º</span></label>
                <select id="fieldGreetingPreset"></select>
              </div>
            </div>

            <div class="field-block" id="greetingCustomWrap" data-optional-key="greeting">
              <label class="field-main-label" id="fieldGreetingCustomLabel" for="fieldGreetingCustom">W≈Çasne przywitanie</label>
              <input id="fieldGreetingCustom" type="text" placeholder="Np. Cze≈õƒá wszystkim">
            </div>

            <div class="field-block" data-optional-key="greeting">
              <label class="field-main-label" id="fieldGreetingRecipientLabel" for="fieldGreetingRecipient">Adresat (w tre≈õci)</label>
              <input id="fieldGreetingRecipient" type="text" placeholder="Np. Aniu / Zespole">
            </div>
          </section>

          <section class="editor-section">
            <h3 id="sectionContentTitle">Tre≈õƒá</h3>
            <div class="field-block" data-optional-key="content">
              <label class="field-main-label" id="fieldContentLabel" for="fieldContent">Tre≈õƒá wiadomo≈õci</label>
              <div class="field-toggle-row field-toggle-row-multiline">
                <label class="field-toggle-inline"><input id="toggleContent" type="checkbox" checked><span id="toggleContentLabel">Poka≈º</span></label>
                <textarea id="fieldContent" rows="12" placeholder="Wpisz tre≈õƒá wiadomo≈õci..."></textarea>
              </div>
            </div>
          </section>

          <section class="editor-section">
            <h3 id="sectionClosingTitle">Pozdrowienie</h3>
            <div class="field-block" data-optional-key="closing">
              <label class="field-main-label" id="fieldClosingLabel" for="fieldClosingPreset">Pozdrowienie</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleClosing" type="checkbox" checked><span id="toggleClosingLabel">Poka≈º</span></label>
                <select id="fieldClosingPreset"></select>
              </div>
            </div>

            <div class="field-block" id="closingCustomWrap" data-optional-key="closing">
              <label class="field-main-label" id="fieldClosingCustomLabel" for="fieldClosingCustom">W≈Çasne pozdrowienie</label>
              <input id="fieldClosingCustom" type="text" placeholder="Np. Dziƒôki i do us≈Çyszenia">
            </div>

            <div class="field-block" data-optional-key="senderName">
              <label class="field-main-label" id="fieldSenderNameLabel" for="fieldSenderName">Nadawca</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleSenderName" type="checkbox"><span id="toggleSenderNameLabel">Poka≈º</span></label>
                <input id="fieldSenderName" type="text" placeholder="Imiƒô i nazwisko" autocomplete="name">
              </div>
            </div>
          </section>

          <section class="editor-section">
            <h3 id="sectionContactTitle">Dane kontaktowe</h3>

            <div class="field-block" data-optional-key="contactName">
              <label class="field-main-label" id="fieldContactNameLabel" for="fieldContactName">Imiƒô i nazwisko</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactName" type="checkbox"><span id="toggleContactNameLabel">Poka≈º</span></label>
                <input id="fieldContactName" type="text" placeholder="Imiƒô i nazwisko">
              </div>
            </div>

            <div class="field-block" data-optional-key="contactRole">
              <label class="field-main-label" id="fieldContactRoleLabel" for="fieldContactRole">Stanowisko</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactRole" type="checkbox"><span id="toggleContactRoleLabel">Poka≈º</span></label>
                <input id="fieldContactRole" type="text" placeholder="Np. Project Manager">
              </div>
            </div>

            <div class="field-block" data-optional-key="contactCompany">
              <label class="field-main-label" id="fieldContactCompanyLabel" for="fieldContactCompany">Nazwa firmy</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactCompany" type="checkbox"><span id="toggleContactCompanyLabel">Poka≈º</span></label>
                <input id="fieldContactCompany" type="text" placeholder="Nazwa firmy">
              </div>
            </div>

            <div class="field-block" data-optional-key="contactLogo">
              <label class="field-main-label" id="fieldContactLogoLabel" for="contactLogoInput">Logo firmy (za≈ÇƒÖcznik)</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactLogo" type="checkbox"><span id="toggleContactLogoLabel">Poka≈º</span></label>
                <input id="contactLogoInput" type="file" accept="image/*">
              </div>
              <p id="contactLogoHint" class="auto-field-note">Logo dodawane jest jako osobny za≈ÇƒÖcznik.</p>
            </div>

            <div class="field-block" data-optional-key="contactPhone">
              <label class="field-main-label" id="fieldContactPhoneLabel" for="fieldContactPhone">Numer telefonu</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactPhone" type="checkbox"><span id="toggleContactPhoneLabel">Poka≈º</span></label>
                <input id="fieldContactPhone" type="text" placeholder="+48 000 000 000" autocomplete="tel">
              </div>
            </div>

            <div class="field-block" data-optional-key="contactEmail">
              <label class="field-main-label" id="fieldContactEmailLabel" for="fieldContactEmail">Adres e-mail</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactEmail" type="checkbox"><span id="toggleContactEmailLabel">Poka≈º</span></label>
                <input id="fieldContactEmail" type="email" placeholder="kontakt@firma.pl" autocomplete="email">
              </div>
            </div>

            <div class="field-block" data-optional-key="contactWebsite">
              <label class="field-main-label" id="fieldContactWebsiteLabel" for="fieldContactWebsite">Strona WWW</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleContactWebsite" type="checkbox"><span id="toggleContactWebsiteLabel">Poka≈º</span></label>
                <input id="fieldContactWebsite" type="url" placeholder="https://twojafirma.pl" autocomplete="url">
              </div>
            </div>

            <div class="field-block" data-optional-key="contactAddress">
              <label class="field-main-label" id="fieldContactAddressLabel" for="fieldContactAddress">Adres fizyczny</label>
              <div class="field-toggle-row field-toggle-row-multiline">
                <label class="field-toggle-inline"><input id="toggleContactAddress" type="checkbox"><span id="toggleContactAddressLabel">Poka≈º</span></label>
                <textarea id="fieldContactAddress" rows="2" placeholder="Ulica, kod, miasto"></textarea>
              </div>
            </div>

            <div class="field-block" data-optional-key="socials">
              <label class="field-main-label" id="fieldSocialsLabel" for="addSocialBtn">Media spo≈Çeczno≈õciowe</label>
              <div class="field-toggle-row field-toggle-row-multiline">
                <label class="field-toggle-inline"><input id="toggleSocials" type="checkbox"><span id="toggleSocialsLabel">Poka≈º</span></label>
                <div>
                  <div id="socialsList" class="socials-list"></div>
                  <button id="addSocialBtn" class="button" type="button">+ Dodaj social</button>
                </div>
              </div>
            </div>
          </section>

          <section class="editor-section">
            <h3 id="sectionSentTitle">Wys≈Çano</h3>

            <div class="field-block" data-optional-key="sentAt">
              <label class="field-main-label" id="fieldSentAtLabel" for="toggleSentAt">Wys≈Çano o</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleSentAt" type="checkbox" checked><span id="toggleSentAtToggleLabel">Poka≈º</span></label>
                <p id="fieldSentAtHint" class="auto-field-note">Data i godzina sƒÖ automatyczne.</p>
              </div>
            </div>

            <div class="field-block" data-optional-key="sentFrom">
              <label class="field-main-label" id="fieldSentFromLabel" for="toggleSentFrom">Wys≈Çano z</label>
              <div class="field-toggle-row">
                <label class="field-toggle-inline"><input id="toggleSentFrom" type="checkbox"><span id="toggleSentFromToggleLabel">Poka≈º</span></label>
                <p id="fieldSentFromHint" class="auto-field-note">UrzƒÖdzenie rozpoznawane automatycznie.</p>
              </div>
            </div>
          </section>

          <label class="remember-draft">
            <input id="rememberDraft" type="checkbox">
            <span id="rememberDraftLabel">Zapamiƒôtaj brudnopis lokalnie (bez za≈ÇƒÖcznik√≥w)</span>
          </label>

          <div id="addressValidation" class="form-validation" aria-live="polite"></div>
          <p class="muted-note" id="mutedNote">Odznaczone pola nie bƒôdƒÖ widoczne w podglƒÖdzie ani eksporcie.</p>
        </section>

        <section class="card attachments-panel">
          <div class="attachments-head">
            <h2 id="attachmentsTitle">Za≈ÇƒÖczniki</h2>
            <button id="addFilesBtn" class="button" type="button">Dodaj pliki</button>
            <input id="fileInput" type="file" multiple hidden>
          </div>

          <div id="dropZone" class="drop-zone" tabindex="0" role="button" aria-label="PrzeciƒÖgnij i upu≈õƒá pliki">
            PrzeciƒÖgnij i upu≈õƒá pliki tutaj lub u≈ºyj przycisku ‚ÄûDodaj pliki‚Äù.
          </div>

          <ul id="attachmentList" class="attachment-grid" aria-live="polite"></ul>

          <div class="attachment-summary">
            <span id="attachmentCount">0 plik√≥w</span>
            <span id="attachmentTotal">Suma plik√≥w: 0 B</span>
            <span id="attachmentEstimated">Szacowany rozmiar wiadomo≈õci: 0 B</span>
            <span id="attachmentWarning" class="warning-text"></span>
          </div>
        </section>
      </div>

      <section class="card preview-panel">
        <div class="preview-head">
          <h2 id="previewTitle">PodglƒÖd</h2>
          <span id="previewTemplateName" class="preview-template-name"></span>
        </div>

        <div class="preview-section">
          <h3 id="previewEnvelopeTitle">Informacje wysy≈Çkowe</h3>
          <div id="previewFields" class="preview-fields" aria-live="polite"></div>
        </div>

        <div class="preview-section">
          <h3 id="previewControlsTitle">Uk≈Çad i kolory</h3>
          <div class="preview-controls-grid">
            <div class="preview-control">
              <label id="mobileTemplateLabel" for="mobileTemplateSelect">Szablon</label>
              <select id="mobileTemplateSelect" aria-label="Wybierz szablon"></select>
            </div>
            <div class="preview-control">
              <label id="previewModeLabel" for="previewMode" class="preview-mode-label">Tryb podglƒÖdu</label>
              <select id="previewMode">
                <option value="app">Jak na stronie</option>
                <option value="light">Jasny</option>
                <option value="dark">Ciemny</option>
                <option value="both">Oba</option>
              </select>
            </div>
          </div>
          <div class="preview-colors">
            <div class="preview-color">
              <label id="accentColor1Label" for="accentColor1">Akcent 1</label>
              <input id="accentColor1" type="color" value="#2e7dff">
            </div>
            <div class="preview-color">
              <label id="accentColor2Label" for="accentColor2">Akcent 2</label>
              <input id="accentColor2" type="color" value="#59a3ff">
            </div>
            <div class="preview-color">
              <label id="accentColor3Label" for="accentColor3">Akcent 3</label>
              <input id="accentColor3" type="color" value="#1d4fb8">
            </div>
          </div>
        </div>

        <div class="preview-section">
          <h3 id="previewContentTitle">Tre≈õƒá maila</h3>
          <div class="mail-canvas" id="mailCanvas" data-mode="single">
            <iframe id="previewFrame" title="PodglƒÖd wiadomo≈õci" loading="eager"></iframe>
            <iframe id="previewFrameDark" title="PodglƒÖd wiadomo≈õci - ciemny" loading="eager"></iframe>
          </div>
        </div>
      </section>
    </section>
  </main>

  <footer class="app-footer" hidden>
    <p id="footerNote"></p>
  </footer>

  <div id="infoModal" class="modal" hidden>
    <div class="modal-backdrop" data-modal-close></div>
    <section class="modal-card" role="dialog" aria-modal="true" aria-labelledby="infoModalTitle">
      <div class="modal-head">
        <h2 id="infoModalTitle">‚ÑπÔ∏è Jak to dzia≈Ça</h2>
        <button id="infoModalClose" class="button" type="button" aria-label="Zamknij">‚úï</button>
      </div>
      <ul id="infoModalList" class="modal-list">
        <li>‚úâÔ∏è Aplikacja tworzy plik <code>.eml</code> z HTML i za≈ÇƒÖcznikami.</li>
        <li>üíæ ‚ÄûZapisz‚Äù pobiera plik na urzƒÖdzenie.</li>
        <li>üì§ ‚ÄûUdostƒôpnij‚Äù otwiera systemowe udostƒôpnianie.</li>
        <li>üìÆ Wys≈Çanie odbywa siƒô z Twojej aplikacji pocztowej i Twojego konta.</li>
      </ul>
    </section>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
